_$ES.Define("flash.geom::Vector3D",["Object","Math"],function(n){"use strict";var t={},i=n.createScope({},t,"Object");return t["flash.geom::Vector3D"]=function(i){function r(n,t,r,u){n===undefined&&(n=0);n=+n;t===undefined&&(t=0);t=+t;r===undefined&&(r=0);r=+r;u===undefined&&(u=0);u=+u;i.call(this);this.x=n;this.y=t;this.z=r;this.w=u}var u=n.createScope({},t,"Object","flash.geom::Vector3D","Math");return u._$push(u.Object),u._$push(r),r._$TypeInfo={so:n,isDynamic:!1,isFinal:!1,isInterface:!1,fullName:"flash.geom::Vector3D",theExtends:u.Object,theImplements:[]},_$ES.F._extends(r,i),n.defField(r.prototype,"x"),n.defField(r.prototype,"y"),n.defField(r.prototype,"z"),n.defField(r.prototype,"w"),n.defMethod(r.prototype,"add",function(n){return new u.Vector3D(this.x+n.x,this.y+n.y,this.z+n.z)}),n.defMethod(r.prototype,"clone",function(){return new u.Vector3D(this.x,this.y,this.z,this.w)}),n.defMethod(r.prototype,"copyFrom",function(n){this.x=n.x;this.y=n.y;this.z=n.z;this.w=n.w}),n.defMethod(r.prototype,"crossProduct",function(n){var t=this.y*n.z-this.z*n.y,i=this.z*n.x-this.x*n.z,r=this.x*n.y-this.y*n.x;return new u.Vector3D(t,i,r)}),n.defMethod(r.prototype,"dotProduct",function(n){return this.x*n.x+this.y*n.y+this.z*n.z}),n.defMethod(r.prototype,"equals",function(n,t){t===undefined&&(t=!1);var i=this.x==n.x&&this.y==n.y&&this.z==n.z;return i&&t&&(i=this.w==n.w),i}),n.defMethod(r.prototype,"scaleBy",function(n){n=+n;this.x=this.x*n;this.y=this.y*n;this.z=this.z*n}),n.defMethod(r.prototype,"incrementBy",function(n){this.x=this.x+n.x;this.y=this.y+n.y;this.z=this.z+n.z}),n.defMethod(r.prototype,"nearEquals",function(n,t,i){t=+t;i===undefined&&(i=!1);var r=NaN,e=u.Math.abs(this.x-n.x)-0,o=u.Math.abs(this.y-n.y)-0,s=u.Math.abs(this.z-n.z)-0,f=(e==0||e<t)&&(o==0||o<t)&&(s==0||s<t);return f&&i&&(r=u.Math.abs(this.w-n.w)-0,f=r==0||r<t),f}),n.defMethod(r.prototype,"normalize",function(){var f=this.length,n=u.Math.abs(this.x)-0,t=u.Math.abs(this.y)-0,i=u.Math.abs(this.z)-0,r;return t>n&&(n=t),i>n&&(n=i),this.x=this.x/n,this.y=this.y/n,this.z=this.z/n,r=u.Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)-0,this._$$scaleBy(1/r),f}),n.defMethod(r.prototype,"decrementBy",function(n){this.x=this.x-n.x;this.y=this.y-n.y;this.z=this.z-n.z}),n.defMethod(r.prototype,"subtract",function(n){return new u.Vector3D(this.x-n.x,this.y-n.y,this.z-n.z)}),n.defMethod(r.prototype,"negate",function(){this.x=-this.x;this.y=-this.y;this.z=-this.z}),n.defMethod(r.prototype,"project",function(){this.x=this.x/this.w;this.y=this.y/this.w;this.z=this.z/this.w}),n.defMethod(r.prototype,"setTo",function(n,t,i){n=+n;t=+t;i=+i;this.x=n;this.y=t;this.z=i}),n.defMethod(r.prototype,"toString",function(){return"Vector3D("+this.x.toString()+", "+this.y.toString()+", "+this.z.toString()+")"}),n.defProp(r.prototype,"length",function(){return u.Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)-0},!1),n.defProp(r.prototype,"lengthSquared",function(){return this.x*this.x+this.y*this.y+this.z*this.z},!1),function(){var t=arguments[0]._$clone();n.defFunc(r,"angleBetween",function(n,i){var r=null,u=0;return n=n._$$clone(),i=i._$$clone(),n._$$normalize(),i._$$normalize(),n._$$dotProduct(i)<0?(n._$$negate(),r=n._$$subtract(i),u=t.Math.PI-2*t.Math.asin(r.length/2)):(r=n._$$subtract(i),u=2*t.Math.asin(r.length/2)),u},r);n.defFunc(r,"distance",function(n,i){return t.Math.sqrt((n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y)+(n.z-i.z)*(n.z-i.z))-0},r);n.defField(r,"X_AXIS");n.defField(r,"Y_AXIS");n.defField(r,"Z_AXIS")}(u),function(){this.X_AXIS=new r(1,0,0,0);this.Y_AXIS=new r(0,1,0,0);this.Z_AXIS=new r(0,0,1,0)}.call(r),r},function(){t["flash.geom::Vector3D"]=t["flash.geom::Vector3D"](i.Object)}.call(t),t});