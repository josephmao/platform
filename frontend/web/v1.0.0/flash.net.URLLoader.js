_$ES.Define("flash.net::URLLoader",["flash.events::EventDispatcher","flash.net::URLLoaderDataFormat","flash.events::Event","flash.events::HTTPStatusEvent","flash.events::ProgressEvent","flash.events::IOErrorEvent","flash.events::SecurityErrorEvent","flash.utils::ByteArray","flash.net::URLVariables","Object"],function(n){"use strict";var t={},i=n.createScope({},t,"flash.events::EventDispatcher");return t["flash.net::URLLoader"]=function(i){function u(t){t===undefined&&(t=null);this.dataFormat=r.URLLoaderDataFormat.TEXT;i.call(this);this._$loader=new _$ES.Loader(n.appInfo,r.URLLoaderDataFormat.TEXT);t&&this._$$load(t)}var r=n.createScope({},t,"flash.net::URLLoaderDataFormat","flash.events::EventDispatcher","flash.events::Event","flash.events::HTTPStatusEvent","flash.events::ProgressEvent","flash.events::IOErrorEvent","flash.events::SecurityErrorEvent","flash.utils::ByteArray","flash.net::URLVariables","Object");return r._$push(r.Object,r.EventDispatcher),r._$push(u),u._$TypeInfo={so:n,isDynamic:!1,isFinal:!1,isInterface:!1,fullName:"flash.net::URLLoader",theExtends:r.EventDispatcher,theImplements:[]},_$ES.F._extends(u,i),n.defField(u.prototype,"bytesLoaded",0),n.defField(u.prototype,"bytesTotal",0),n.defField(u.prototype,"data",null),n.defField(u.prototype,"dataFormat"),n.defField(u.prototype,"_$loader"),n.defMethod(u.prototype,"close",function(){this._$loader.close()}),n.defMethod(u.prototype,"load",function(n){var t=this;this._$loader.dataFormat=this.dataFormat;this._$loader.onOpen=_$ES.F.bind(function(){this.dispatchEvent(new r.Event("open"))},this);this._$loader.onHttpStatus=_$ES.F.bind(function(n){this.dispatchEvent(new r.HTTPStatusEvent(r.HTTPStatusEvent.HTTP_STATUS,!1,!1,n.status))},this);this._$loader.onHttpResponseStatus=_$ES.F.bind(function(n){this.dispatchEvent(new r.HTTPStatusEvent(r.HTTPStatusEvent.HTTP_RESPONSE_STATUS,!1,!1,n.status,n.redirected))},this);this._$loader.onProgress=_$ES.F.bind(function(n){this.dispatchEvent(new r.ProgressEvent(r.ProgressEvent.PROGRESS,!1,!1,this.bytesLoaded=n.loaded,this.bytesTotal=n.total))},this);this._$loader.onIoError=_$ES.F.bind(function(n){this.dispatchEvent(new r.IOErrorEvent(r.IOErrorEvent.IO_ERROR,!1,!1,n.status.toString()))},this);this._$loader.onSecurityError=_$ES.F.bind(function(n){this.dispatchEvent(new r.SecurityErrorEvent(r.SecurityErrorEvent.SECURITY_ERROR,!1,!1,n.status.toString()))},this);this._$loader.onComplete=_$ES.F.bind(function(n){var t;if(n.data)switch(n.dataFormat){case r.URLLoaderDataFormat.BINARY:t=new r.ByteArray;t._$resetBuffer(n.data,n.data.byteLength);n.data=t;break;case r.URLLoaderDataFormat.VARIABLES:n.data=new r.URLVariables(n.data)}this.data=n.data;this.dispatchEvent(new r.Event("complete"))},this);this._$loader.load(n)}),function(){}.call(u),u},function(){t["flash.net::URLLoader"]=t["flash.net::URLLoader"](i.EventDispatcher)}.call(t),t});