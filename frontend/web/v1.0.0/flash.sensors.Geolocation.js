_$ES.Define("flash.sensors::Geolocation",["flash.events::EventDispatcher","flash.events::GeolocationEvent","flash.events::StatusEvent","Object"],function(n){"use strict";var t={},i=n.createScope({},t,"flash.events::EventDispatcher");return t["flash.sensors::Geolocation"]=function(i){function r(){i.call(this)}var u=n.createScope({},t,"flash.events::EventDispatcher","flash.events::GeolocationEvent","flash.events::StatusEvent","Object");return u._$push(u.Object,u.EventDispatcher),u._$push(r),r._$TypeInfo={so:n,isDynamic:!1,isFinal:!1,isInterface:!1,fullName:"flash.sensors::Geolocation",theExtends:u.EventDispatcher,theImplements:[]},_$ES.F._extends(r,i),n.defField(r.prototype,"_$isWatch",!1),n.defField(r.prototype,"_$id"),n.defMethod(r.prototype,"addEventListener",function(t,r,u,f,e){t=t==null?null:""+t;u===undefined&&(u=!1);f===undefined&&(f=0);f=f|0;e===undefined&&(e=!1);this._$isWatch||(this._$id=n.js.self.navigator.geolocation.watchPosition(this._$onSuccess,this._$onError)-0,this._$isWatch=!0);i.prototype.addEventListener.call(this,t,r,u,f,e)}),n.defMethod(r.prototype,"removeEventListener",function(t,r,f){t=t==null?null:""+t;f===undefined&&(f=!1);i.prototype.removeEventListener.call(this,t,r,f);this._$isWatch&&!this._$$hasEventListener(u.GeolocationEvent.UPDATE)&&(this._$isWatch=!1,n.js.self.navigator.geolocation.clearWatch(this._$id))}),n.defMethod(r.prototype,"_$onSuccess",function(n){t["flash.sensors::Geolocation"]._$muted&&(t["flash.sensors::Geolocation"]._$muted=!1,this._$$dispatchEvent(new u.StatusEvent(u.StatusEvent.STATUS)));var i=n.coords;this._$$hasEventListener(u.GeolocationEvent.UPDATE)&&this._$$dispatchEvent(new u.GeolocationEvent(u.GeolocationEvent.UPDATE,!1,!1,i.latitude||0,i.longitude||0,i.altitude||0,i.altitudeAccuracy||0,i.altitudeAccuracy||0,i.speed||0,i.heading||0))}),n.defMethod(r.prototype,"_$onError",function(n){(n.code===1||n.code===2)&&(t["flash.sensors::Geolocation"]._$muted=!0,this._$$dispatchEvent(new u.StatusEvent(u.StatusEvent.STATUS)))}),n.defMethod(r.prototype,"setRequestedUpdateInterval",function(){}),n.defProp(r.prototype,"muted",function(){return t["flash.sensors::Geolocation"]._$muted},!1),function(){var i=arguments[0]._$clone();n.defField(r,"_$muted",!0);n.defConstField(r,"_$isSupported",!1);n.defProp(r,"isSupported",function(){return t["flash.sensors::Geolocation"]._$isSupported},!1)}(u),function(){this._$isSupported="geolocation"in n.js.self.navigator}.call(r),r},function(){t["flash.sensors::Geolocation"]=t["flash.sensors::Geolocation"](i.EventDispatcher)}.call(t),t});