_$ES.Define("flash.utils::Timer",["flash.events::EventDispatcher","flash.events::TimerEvent","Object"],function(n){"use strict";var t={},i=n.createScope({},t,"flash.events::EventDispatcher");return t["flash.utils::Timer"]=function(i){function r(n,t){n=+n;t===undefined&&(t=0);t=t|0;this.delay=n;this.repeatCount=t;i.call(this)}var u=n.createScope({},t,"flash.events::EventDispatcher","flash.events::TimerEvent","Object");return u._$push(u.Object,u.EventDispatcher),u._$push(r),r._$TypeInfo={so:n,isDynamic:!1,isFinal:!1,isInterface:!1,fullName:"flash.utils::Timer",theExtends:u.EventDispatcher,theImplements:[]},_$ES.F._extends(r,i),n.defMethod(r.prototype,"reset",function(){this._$currentCount=0;this._$$stop()}),n.defField(r.prototype,"_$timeoutId"),n.defMethod(r.prototype,"_$onTimeout",function(){var t=null,i,r;this._$currentCount++;i=this._$repeatCount>0&&this._$currentCount>=this._$repeatCount;i&&this._$$stop();r=new u.TimerEvent(u.TimerEvent.TIMER);this._$$dispatchEvent(r);r._$isUpdateAfterEvent&&n.player.renderFrame();i?(t=new u.TimerEvent(u.TimerEvent.TIMER_COMPLETE),this._$$dispatchEvent(t),t._$isUpdateAfterEvent&&n.player.renderFrame()):this._$running&&this._$$_$startTimeout()}),n.defMethod(r.prototype,"_$startTimeout",function(){this._$timeoutId=n.js.window.setTimeout(this._$onTimeout,this._$delay)-0}),n.defMethod(r.prototype,"start",function(){this._$running||(this._$running=!0,this._$$_$startTimeout())}),n.defMethod(r.prototype,"stop",function(){this._$running=!1;this._$timeoutId!=-1&&(n.js.window.clearTimeout(this._$timeoutId),this._$timeoutId=-1)}),n.defField(r.prototype,"_$currentCount",0),n.defProp(r.prototype,"delay",function(){return this._$delay},function(n){n=+n;n<16.7&&(n=16.7);this._$delay=n}),n.defField(r.prototype,"_$delay",16.7),n.defProp(r.prototype,"repeatCount",function(){return this._$repeatCount},function(n){n=n|0;this._$repeatCount=n}),n.defField(r.prototype,"_$repeatCount",0),n.defField(r.prototype,"_$running",!1),n.defProp(r.prototype,"currentCount",function(){return this._$currentCount},!1),n.defProp(r.prototype,"running",function(){return this._$running},!1),function(){}.call(r),r},function(){t["flash.utils::Timer"]=t["flash.utils::Timer"](i.EventDispatcher)}.call(t),t});